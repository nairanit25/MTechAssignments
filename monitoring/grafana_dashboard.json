{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "Prometheus",
      "description": "",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    }
  ],
  "__requires": [
    {
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "graph",
      "name": "Graph",
      "version": "1.0.0"
    }
  ],
  "annotations": {
    "list": []
  },
  "panels": [
    {
      "type": "graph",
      "title": "Prediction Request Count",
      "targets": [
        {
          "expr": "prediction_requests_total",
          "legendFormat": "Total",
          "refId": "A"
        }
      ],
      "id": 1
    },
    {
      "type": "graph",
      "title": "Prediction Request Latency (p95)",
      "targets": [
        {
          "expr": "histogram_quantile(0.95, sum(rate(prediction_latency_seconds_bucket[1m])) by (le))",
          "legendFormat": "p95 latency",
          "refId": "B"
        }
      ],
      "id": 2
    },
    {
      "type": "graph",
      "title": "CPU Usage",
      "targets": [
        {
          "expr": "process_cpu_seconds_total",
          "legendFormat": "CPU Time",
          "refId": "C"
        }
      ],
      "id": 3
    },
    {
      "type": "graph",
      "title": "Memory Usage",
      "targets": [
        {
          "expr": "process_resident_memory_bytes",
          "legendFormat": "Memory Bytes",
          "refId": "D"
        }
      ],
      "id": 4
    },
    {
      "type": "graph",
      "title": "Request Rate (/predict)",
      "targets": [
        {
          "expr": "rate(prediction_requests_total[1m])",
          "legendFormat": "requests/sec",
          "refId": "E"
        }
      ],
      "id": 5
    },
    {
      "type": "graph",
      "title": "Model RMSE Comparison",
      "targets": [
        {
          "expr": "training_rmse_lr",
          "legendFormat": "Linear Regression",
          "refId": "F"
        },
        {
          "expr": "training_rmse_dt",
          "legendFormat": "Decision Tree",
          "refId": "G"
        }
      ],
      "id": 6
    },
    {
      "type": "graph",
      "title": "Model RÂ² Comparison",
      "targets": [
        {
          "expr": "training_r2_lr",
          "legendFormat": "Linear Regression",
          "refId": "H"
        },
        {
          "expr": "training_r2_dt",
          "legendFormat": "Decision Tree",
          "refId": "I"
        }
      ],
      "id": 7
    }
  ],
  "schemaVersion": 27,
  "version": 2,
  "title": "Housing Prediction Monitoring",
  "timezone": "browser",
  "refresh": "5s"
}
